<!DOCTYPE html>

<html>
	<head>

	  <title>JavaScript Error Handling</title>
	  <meta charset="UTF-8">
	  <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="https://www.w3schools.com/lib/w3.css">
		<link type="text/css" href="styles.css" rel="stylesheet"/>
	  <script src="https://unpkg.com/vue/dist/vue.js"></script>
		<link href="prism.css" rel="stylesheet" />
		<script src="scripts/prism.js"></script>
	  <style>
	  * {
		  box-sizing: border-box;
		  }
	  </style>

	</head>

	<body class="w3-margin">

		<h1>JavaScript Error Handling</h1>

		<p>The <b>try</b> statement lets you test a block of code for errors.</p>

		<p>The <b>catch</b> statement lets you handle the error.</p>

		<p>The <b>throw</b> statement lets you create custom errors.</p>

		<p>The <b>finally</b> statement lets you execute code, after try and catch, regardless of the result.</p>

		<hr />

		<h2>Try..Catch</h2>

		<p>Test a block of code for errors and handle the error:</p>

		<p id="demo1"></p>

		<script>
		try {
			adddlert("Welcome Guest!");
		}
		catch(err) {
			document.getElementById("demo1").innerHTML = err.message;
		}
		</script>

		<pre><code class="language-javascript">
			try {
				adddlert("Welcome Guest!");
			}
			catch(err) {
				document.getElementById("demo1").innerHTML = err.message;
			}
		</code></pre>

		<hr />

		<h2>Try..Catch Statement with Confirm Box</h2>

		<p>Display a confirm box when there is an error:</p>

		<input type="button" value="View Message" onclick="message()" />

		<script>
		var txt = "";
		function message() {
			try {
				adddlert("Welcome Guest!");
			}
			catch(err) {
				txt = "There was an error on this page.\n\n";
				txt += "Click OK to continue viewing this page,\n";
				txt += "or Cancel to return to the previous page.\n\n";
					if(!confirm(txt)) {
						document.location.href = "#";
					}
			}
		}
		</script>

		<pre><code class="language-javascript">
			var txt = "";
			function message() {
				try {
					adddlert("Welcome Guest!");
				}
				catch(err) {
					txt = "There was an error on this page.\n\n";
					txt += "Click OK to continue viewing this page,\n";
					txt += "or Cancel to return to the previous page.\n\n";
						if(!confirm(txt)) {
							document.location.href = "#";
						}
				}
			}
		</code></pre>

		<hr />

		<h2>Throw</h2>

		<p>The <b>throw</b> statement allows you to create a custom error:</p>

		<p>Input a number between 5 and 10:</p>

		<input id="demo2" type="text" />
		<button type="button" onclick="myFunction1()">Test Input</button>
		<p id="message"></p>

		<script>
		function myFunction1() {
			var message, x;
			message = document.getElementById("message");
			message.innerHTML = "";
			x = document.getElementById("demo2").value;
			try {
				if(x == "") throw "empty!";
				if(isNaN(x)) throw "not a number!";
				x = Number(x);
				if(x < 5) throw "too low!";
				if(x > 10) throw "too high!";
			}
			catch(err) {
				message.innerHTML = "Input is " + err;
			}
		}
		</script>

		<pre><code class="language-javascript">
			function myFunction1() {
				var message, x;
				message = document.getElementById("message");
				message.innerHTML = "";
				x = document.getElementById("demo2").value;
				try {
					if(x == "") throw "empty!";
					if(isNaN(x)) throw "not a number!";
					x = Number(x);
					if(x < 5) throw "too low!";
					if(x > 10) throw "too high!";
				}
				catch(err) {
					message.innerHTML = "Input is " + err;
				}
			}
		</code></pre>

		<hr />

		<h2>HTML Validation</h2>

		<p>Modern browsers will use a combination of JavaScript and built-in HTML validation, using predefined validation rules defined in HTML attributes:</p>

		<p>Insert a number between 5 and 10:</p>
		<input id="demo3" type="number" min="5" max="10" step="1" />

		<hr />

		<h2>Finally</h2>

		<p>The finally statement allows you to execute code, after try and catch, regardless of the result:</p>

		<p>Please input a number between 5 and 10:</p>

		<input id="demo4" type="text" />
		<button type="button" onclick="myFunction2()">Test Input</button>

		<p id="message2"></p>

		<script>
		function myFunction2() {
			var message, x;
			message = document.getElementById("message2");
			message.innerHTML = "";
			x = document.getElementById("demo4").value;
			try {
				if(x == "") throw "empty!";
				if(isNaN(x)) throw "not a number!";
				x = Number(x);
				if(x > 10) throw "too high!";
				if(x < 5) throw "too low!";
			}
			catch(err) {
				message.innerHTML = "Input " + err;
			}
			finally {
				document.getElementById("demo").value = "";
			}
		}
		</script>

		<pre><code class="language-javascript">
			function myFunction2() {
				var message, x;
				message = document.getElementById("message2");
				message.innerHTML = "";
				x = document.getElementById("demo4").value;
				try {
					if(x == "") throw "empty!";
					if(isNaN(x)) throw "not a number!";
					x = Number(x);
					if(x > 10) throw "too high!";
					if(x < 5) throw "too low!";
				}
				catch(err) {
					message.innerHTML = "Input " + err;
				}
				finally {
					document.getElementById("demo").value = "";
				}
			}
		</code></pre>

		<hr />

		<h2>Error Object Properties:</h2>

		<table class="w3-table-all">
		  <tr>
		    <th>Property</th>
		    <th>Description</th>
		  </tr>
		  <tr>
		    <td>name</td>
		    <td>sets or returns an error name</td>
		  </tr>
		  <tr>
		    <td>message</td>
		    <td>sets or returns an error message</td>
		  </tr>
		</table>

		<h2>Range Error</h2>

		<p>You cannot set the number of significant digits of a number to 500:</p>

		<p id="demo5"></p>

		<script>
		var num = 1;
		try {
		    num.toPrecision(500);
		}
		catch(err) {
		    document.getElementById("demo5").innerHTML = err.name;
		}
		</script>

		<pre><code class="language-javascript">
			var num = 1;
			try {
			    num.toPrecision(500);
			}
			catch(err) {
			    document.getElementById("demo5").innerHTML = err.name;
			}
		</code></pre>

		<hr />

		<h2>Reference Error</h2>

		<p>A reference error is thrown if you use (reference) a variable that has not been declared:</p>

		<p id="demo6"></p>

		<script>
		var x;
		try {
			x = y + 3;
		}
		catch(err) {
			document.getElementById("demo6").innerHTML = err.name;
		}
		</script>

		<pre><code class="language-javascript">
			var x;
			try {
				x = y + 3;
			}
			catch(err) {
				document.getElementById("demo6").innerHTML = err.name;
			}
		</code></pre>

		<hr />

		<h2>Syntax Error</h2>

		<p>A syntax error is thrown if you try to evaluate code with a syntax error:</p>

		<p id="demo7"></p>

		<script>
		try {
			eval("alert('Hello)");
		}
		catch(err) {
			document.getElementById("demo7").innerHTML = err.name;
		}
		</script>

		<pre><code class="language-javascript">
			try {
				eval("alert('Hello)");
			}
			catch(err) {
				document.getElementById("demo7").innerHTML = err.name;
			}
		</code></pre>

		<hr />

		<h2>Type Error</h2>

		<p>A type error is throw if you use a value that is outside the range of expected types:</p>

		<p id="demo8"></p>

		<script>
		var num = 1;
		try {
			num.toUpperCase();
		}
		catch(err) {
			document.getElementById("demo8").innerHTML = err.name;
		}
		</script>

		<pre><code class="language-javascript">
			var num = 1;
			try {
				num.toUpperCase();
			}
			catch(err) {
				document.getElementById("demo8").innerHTML = err.name;
			}
		</code></pre>

		<hr />

		<h2>URI Error</h2>

		<p>A URI error is thrown if you use illegal characters in a URI function:</p>

		<p id="demo9"></p>

		<script>
		try {
			decodeURI("%%%");
		}
		catch(err) {
			document.getElementById("demo9").innerHTML = err.name;
		}
		</script>

		<pre><code class="language-javascript">
			try {
				decodeURI("%%%");
			}
			catch(err) {
				document.getElementById("demo9").innerHTML = err.name;
			}
		</code></pre>

	</body>

</html>
